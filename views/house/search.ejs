<!--search.ejs-->

<div class="row">
    <div class="card col-12 col-sm-12 col-lg-8 col-xl-8">
        <div class="row">
            <% houses.forEach( function(model) { %>
            <div class="card col-12 col-sm-6 col-lg-6 col-xl-6">

                <div>
                    <img id="img2" src="<%= model.URL %>" />
                </div>

                <div>
                    <a href="/house/view/<%= model.id %>"><%= model.title %></a>
                    <table class="home_table">

                        <tr>
                            <td class="search_td">Estate:<%= model.name %></td>
                        </tr>
                        <tr>
                            <td class="search_td">Gross Area:<%= model.gross_area %> sq feet</td>
                        </tr>
                        <tr>
                            <td class="search_td">Rent: $<%= model.rent %></td>
                        </tr>
                    </table>

                </div>



            </div>

            <% }); %>
        </div>
    </div>
    <div class="card col-12 col-sm-4 col-lg-4 col-xl-4">

        <div style="padding: 20px;">
            <% const current = parseInt(req.query.page) || 1; %>
            <% const qNow = parseInt(req.query) || ""; %>
            <nav aria-label="Page navigation example">
                <ul class="pagination">
                    <li class="page-item">
                        <a class="page-link" href="/house/search?<% qNow %>/?page=<%= Math.max(current-1, 1) %>">Previous</a>
                    </li>

                    <% for (i = 1; i <= count; i++) { %>
                    <li class="page-item">
                        <a class="page-link" href="/house/search?<% qNow %>/?page=<%= i %>"><%= i %></a>
                    </li>
                    <% } %>

                    <li class="page-item">
                        <a class="page-link" href="/house/search?<% qNow %>/?page=<%= Math.min(current+1, count) %>">Next</a>
                    </li>
                </ul>
            </nav>
        </div>

        <h1>Property Search</h1>

        <form action="/house/search?" method="GET">


            <div class="row" style="padding:0px 10px;">
                <div>
                    <label>Estate:</label>
                </div>
                <div style="padding: 10px;">
                    <select name="name">
                        <option value="">Select estate here:</option>
                        <option value="City One Shatin">City One Shatin</option>
                        <option value="Tai Wai">Tai Wai</option>
                        <option value="Hung Hom">Hung Hom</option>
                        <option value="Siu Sai Wan">Siu Sai Wan</option>
                    </select>
                </div>
            </div>

            <div class="row" style="padding: 10px;">
                <div>
                    <label>bedrooms:</label>
                </div>
                <div>
                    <input type="number" style="width: 200px;" class="form-control" name="bedrooms" min="1" max="9">
                </div>
            </div>

            <label>Area (Sq feet):</label>

            <div class="row" style="padding: 10px;">
                <label>Min:</label>
                <input style="width: 100px;" min="0" max="999999" type="number" class="form-control" name="rent1"
                    value="">
                <label>Max:</label>
                <input style="width: 100px;" min="0" max="999999" type="number" class="form-control" name="rent2"
                    value="">
            </div>

            <label>Rent(HK$):</label>

            <div class="row" style="padding: 10px;">
                <label>Min:</label>
                <input style="width: 100px;" min="0" max="9999" type="number" class="form-control" name="gross_area1"
                    value="">
                <label>Max:</label>
                <input style="width: 100px;" min="0" max="9999" type="number" class="form-control" name="gross_area2"
                    value="">
            </div>





            <button type="submit" class="btn btn-danger">Search</button>

        </form>
    </div>
</div>